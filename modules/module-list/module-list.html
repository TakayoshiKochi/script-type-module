<template>
  <style>
   :host { display: block; }
  .list {
    width: 400px;
    text-transform: capitalize;
  }
  </style>
  <div class="list">
    <slot></slot>
    <decorated-button>More member...</decorated-button>
  </div>
</template>
<script type="module-polyfill">
//import frag from 'magic-html-fragment';
let frag = moduleHTML;  // workaround

// TODO: This can be <script type="module-polyfill" src=...> at the top of this
// file, but due to "one script" restriction, dependency has to be written this
// way.
import '../decorated-button/decorated-button.html';

class ModuleList extends HTMLElement {
  constructor() {
    super();
    console.log('<module-list> constructor.');
  }
  connectedCallback() {
    if (this.shadowRoot)
      return;
    let root = this.attachShadow({mode: 'open'});
    let tmpl = frag.querySelector('template');
    root.appendChild(document.importNode(tmpl.content, true));
    console.log('<module-list> connected.');

    let button = root.querySelector('decorated-button');
    button.addEventListener('click', (e) => {
      window.alert('You edit this HTML!');
    });
  }
}

window.customElements.define('module-list', ModuleList);
</script>
